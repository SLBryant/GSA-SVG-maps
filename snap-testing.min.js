!function(e){jQuery.fn.usaMap=function(a){var n={virginIslands:!1,guam:!1,puertoRico:!1,topBoxes:!1,theWorld:!1,mapTarget:!1,mapForm:!1,linkTemplate:!1,exceptions:!1,convertStates:!1};return a&&e.extend(n,a),this.each(function(){function o(a,n){console.log("CONVERT STATE",a,"TO",n);var i,a=a.toUpperCase(),r=new Array({name:"District of Columbia",abbrev:"DC",region:"11"},{name:"Alabama",abbrev:"AL",region:"4"},{name:"Alaska",abbrev:"AK",region:"10"},{name:"Arizona",abbrev:"AZ",region:"9"},{name:"Arkansas",abbrev:"AR",region:"7"},{name:"California",abbrev:"CA",region:"9"},{name:"Colorado",abbrev:"CO",region:"8"},{name:"Connecticut",abbrev:"CT",region:"01"},{name:"Delaware",abbrev:"DE",region:"3"},{name:"Florida",abbrev:"FL",region:"4"},{name:"Georgia",abbrev:"GA",region:"4"},{name:"Guam",abbrev:"GU",region:"9"},{name:"Hawaii",abbrev:"HI",region:"9"},{name:"Idaho",abbrev:"ID",region:"10"},{name:"Illinois",abbrev:"IL",region:"5"},{name:"Indiana",abbrev:"IN",region:"5"},{name:"Iowa",abbrev:"IA",region:"6"},{name:"Kansas",abbrev:"KS",region:"6"},{name:"Kentucky",abbrev:"KY",region:"4"},{name:"Louisiana",abbrev:"LA",region:"7"},{name:"Maine",abbrev:"ME",region:"01"},{name:"Maryland",abbrev:"MD",region:"3"},{name:"Massachusetts",abbrev:"MA",region:"01"},{name:"Michigan",abbrev:"MI",region:"5"},{name:"Minnesota",abbrev:"MN",region:"5"},{name:"Mississippi",abbrev:"MS",region:"4"},{name:"Missouri",abbrev:"MO",region:"6"},{name:"Montana",abbrev:"MT",region:"8"},{name:"Nebraska",abbrev:"NE",region:"6"},{name:"Nevada",abbrev:"NV",region:"9"},{name:"New Hampshire",abbrev:"NH",region:"01"},{name:"New Jersey",abbrev:"NJ",region:"2"},{name:"New Mexico",abbrev:"NM",region:"7"},{name:"New York",abbrev:"NY",region:"2"},{name:"North Carolina",abbrev:"NC",region:"4"},{name:"North Dakota",abbrev:"ND",region:"8"},{name:"Ohio",abbrev:"OH",region:"5"},{name:"Oklahoma",abbrev:"OK",region:"7"},{name:"Oregon",abbrev:"OR",region:"10"},{name:"Pennsylvania",abbrev:"PA",region:"3"},{name:"Rhode Island",abbrev:"RI",region:"01"},{name:"South Carolina",abbrev:"SC",region:"4"},{name:"South Dakota",abbrev:"SD",region:"8"},{name:"Tennessee",abbrev:"TN",region:"4"},{name:"Texas",abbrev:"TX",region:"7"},{name:"Utah",abbrev:"UT",region:"8"},{name:"Vermont",abbrev:"VT",region:"01"},{name:"Virginia",abbrev:"VA",region:"3"},{name:"Washington",abbrev:"WA",region:"10"},{name:"West Virginia",abbrev:"WV",region:"3"},{name:"Wisconsin",abbrev:"WI",region:"5"},{name:"Wyoming",abbrev:"WY",region:"8"},{name:"Puerto Rico",abbrev:"PR",region:"2"},{name:"Virgin Islands",abbrev:"VI",region:"2"},{name:"East Asia",abbrev:"EA",region:"9"},{name:"American Samoa",abbrev:"AS",region:"9"},{name:"Europe",abbrev:"AE",region:"3"});return e.each(r,function(e,o){console.log(r[e]),"name"==n?(console.log("name"),o.abbrev==a&&(i=o.name)):"abbrev"==n?(console.log("abbrev"),(o.name.toUpperCase()==a||o.abbrev==a)&&(i=o.abbrev)):"nospaces"==n&&(console.log("nospaces"),o.abbrev==a&&(o.name=o.name.replace(/\s+/g,""),i=o.name))}),console.log("RETURN",i),i}function t(e,a){for(i in e)e[i].forEach(function(e,n){s(e,a)})}function s(e,a){var r=e.attr("id");e.click(function(e){if(-1===a.indexOf(r)){if(!n.convertStates)var i=o(r,"abbrev");if("name"==n.convertStates)var i=o(r,"name");if("nospaces"==n.convertStates)var i=o(r,"nospaces");b(i)}else e.preventDefault()})}function b(a){"link"==n.mapTarget&&(window.location.href=n.linkTemplate+a),"form"==n.mapTarget&&(e("#map_state").val(a),e("#"+n.mapForm).submit())}var a=e(this).get()[0],r=new Snap(a);Snap.load("images/US_map_MASTER.svg",function(o){function p(e){return function(){window.location.href=e}}var s=o;r.append(s),r.attr({fill:"#33a1d5",stroke:"#eaeaea"});var b=r.multitext(300,705,"The State Department\nsets Foreign Rates.\nVisit the State Dept Site >");b.attr({font:"19px Source Sans Pro","line-height":"1.1",fill:"#333",stroke:"none",display:"none"}).addClass("textBlocks");var l=r.multitext(0,605,"The Department of Defense sets rates for\nAlaska, Hawaii, U.S. Territories, and Possessions (OCONUS rates).\nVisit DoD site >");l.attr({font:"19px Source Sans Pro","line-height":"1.1",fill:"#333",stroke:"none",display:"none"}).addClass("textBlocks topbox");var v=Snap.selectAll("text");if(v.forEach(function(e,a){e.attr({"pointer-events":"none"})}),n.virginIslands&&(e("#VI").show(),e("#virginIslandsLabel").show()),n.guam&&(e("#GU").show(),e("#guamLabel").show()),n.puertoRico&&(e("#PR").show(),e("#puertoRicoLabel").show()),n.theWorld){e("#worldMap").show(),e(".textBlocks").show();var m=Snap.select("#worldMap");m.hover(function(){this.attr({fill:"#9bdaf9"})},function(){this.attr({fill:"#33a1d5"})}),m.click(function(){window.location.href="https://aoprals.state.gov/content.asp?content_id=184&menu_id=78"})}var c=Snap.selectAll(".state"),f=Snap.selectAll("g > rect"),g=[c,f];if(n.topBoxes&&(e("#topBoxes").show(),f.forEach(function(e,a){e.hover(function(){this.attr({fill:"#9bdaf9",cursor:"pointer"})},function(){this.attr({fill:"#c7c8c9",cursor:"auto"})})})),c.forEach(function(e,a){var n=["MI","VI","PR","GU"],r=e.attr("id");e.hover(function(){this.attr({fill:"#9bdaf9",cursor:"pointer"}),this.selectAll("path").length>1&&-1===n.indexOf(r)&&this.select(".statebox").attr({fill:"#9bdaf9"})},function(){this.attr({fill:"#33a1d5"}),this.selectAll("path").length>1&&-1===n.indexOf(r)&&this.select(".statebox").attr({fill:"#c7c8c9"})})}),n.exceptions){var h=[];for(i in n.exceptions){var u=n.exceptions[i],d=u.state,A=u.link;e(a).find("#"+d).click(p(A)),h.push(u.state)}}if(!n.exceptions)var h=[];t(g,h)})})}}(jQuery);